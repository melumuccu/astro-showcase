---
import {
  SampleCappuccinoWide,
  SampleCoffeeBlack,
  SampleEyecatch,
  SampleEyecatch2,
} from '@/assets'
import SectionTitle from '@/components/SectionTitle.astro'
import EyecatchSlider from '@/components/animations/EyecatchSlider.astro'
import VisibleOnScroll from '@/components/animations/VisibleOnScroll.astro'
import Header from '@/components/header/Header.astro'
import { Image } from 'astro:assets'
import Layout from './_Layout.astro'

const title = 'HACKsaw@cafe 椎ノ樹'
const subtitle = '~珈琲と軽食、落ち着く空間~'
const description =
  '【cafe 椎ノ樹】は新鮮な珈琲を1杯ずつ挽きたてでご提供。エスプレッソマシンでの高圧抽出による、手で淹れる珈琲には出せない魅力と共に、ちょっとした手作り軽食をお楽しみください。'
---

<Layout title={`${title} ${subtitle}`} description={description} path={'/'}>
  <div slot="main" class="main-contents">
    <Header />

    <EyecatchSlider interval={7000}>
      <Image
        src={SampleCappuccinoWide}
        class="eyecatch-image"
        alt="a cappuccino image"
      />
      <Image
        src={SampleEyecatch}
        class="eyecatch-image"
        alt="a cappuccino image"
      />
      <Image
        src={SampleEyecatch2}
        class="eyecatch-image"
        alt="a cappuccino image"
      />
    </EyecatchSlider>

    <VisibleOnScroll>
      <section slot="content">
        <SectionTitle title="メニュー" />
        <ul>
          {
            Array.from({ length: 5 }).map((_, index) => (
              <li>
                <Image
                  src={SampleCoffeeBlack}
                  alt="coffee"
                  width="100"
                  height="100"
                />
                <p class="menu">珈琲</p>
                <span class="filler" />
                <p class="discription">
                  説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明説明
                </p>
                <p class="price">¥500</p>
              </li>
            ))
          }
        </ul>
      </section>
    </VisibleOnScroll>

    <VisibleOnScroll>
      <section slot="content">
        <SectionTitle title="アクセス" />
        <p>東京都渋谷区神宮前 1-1-1</p>
      </section>
    </VisibleOnScroll>
  </div>
</Layout>

<style is:global>
  .main-contents > .visibleOnScroll > section {
    padding-top: 5rem;
  }

  @media (width <= 640px) {
    .main-contents > .visibleOnScroll > section {
      padding: 5rem 0.5rem 3rem;
    }
  }

  .main-contents > .visibleOnScroll:nth-of-type(even) > section {
    background-color: rgb(0 0 0 / 20%);
  }
</style>

<style>
  .main-contents {
    display: grid;
  }

  section {
    min-height: 600px;
    padding: 1rem;
  }

  /* TODO @containerにして流動的なレイアウトにする */

  @media (width <= 640px) {
    section {
      padding: 1rem 0;
    }
  }

  ul {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
    padding: 1rem 7rem;
    container: layout inline-size;
  }

  @media (width >= 640px) and (width <= 1024px) {
    ul {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (width <= 640px) {
    ul {
      grid-template-columns: repeat(1, 1fr);
      padding: 1rem 0;
    }
  }

  li {
    display: grid;
    grid-template: 1fr 2fr / auto auto 1fr auto;
    gap: 0.25rem 1rem;
    align-items: center;

    img {
      grid-area: 1 / 1 / 3 / 2;
      border-radius: 50%;
    }

    .menu {
      grid-area: 1 / 2 / 2 / 3;
      font-size: 1.5rem;
    }

    .filler {
      grid-area: 1 / 3 / 2 / 4;
      border-bottom: 1px dotted #fff;
    }

    .discription {
      grid-area: 2 / 2 / 3 / 5;
      align-self: start;
    }

    .price {
      grid-area: 1 / 4 / 2 / 5;
    }
  }
</style>
